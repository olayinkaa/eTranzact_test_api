{
    "swagger": "2.0",
    "info": {
      "version": "1.0.0", 
      "title": "ETRANZACT ECOMMERCE TEST APIs",
      "description": "eTranzact test apis for frontend roles",
      "license": {
        "name": "MIT",
        "url": "https://opensource.org/licenses/MIT"
      }
    },
    "contact": {
      "name": "Ibrahim Olayinka",
      "url": "hr@etranzactng.com",
      "email": "olayinka.ibrahim@etranzactng.com"
    },
    "host": "etranzact-test-api.herokuapp.com",
    "basePath": "/api/etz",
    "tags": [
      {
        "name": "CategoryController",
        "description": "API for categories in the system"
      },
      {
        "name": "ProductController",
        "description": "API for products in the system"
      },
      {
        "name": "UserController",
        "description": "API for users in the system"
      }
    ],
    "schemes": ["https","http"],
    "consumes": ["application/json"],
    "produces": ["application/json"],
    "paths":{
      "/user/auth":{
        "get":{
          "tags": ["UserController"],
          "summary": "API Endpoint to find auth User",
          "description" : "Find Authenticated User from the database",
          "produces" : ["application/json"],
          "parameters":[
            {
              "name": "authorization",
              "description": "Access token to authorize the user",
              "in": "header",
              "type": "string",
              "required": false
            }
          ],
          "responses":{
            "200":{
              "description" : "Authenticated User Details",
              "schema": {
               "$ref" : "#/definitions/UserResponse"
              }
            }
          }
        }
      },
      "/user/login":{
        "post":{
          "tags": ["UserController"],
          "summary": "API Endpoint to get Token",
          "description" : "Retrieve access token",
          "parameters":[
            {
              "name": "User",
              "description": "User login",
              "in": "body",
              "required": "true",
              "schema" : {
                "$ref" : "#/definitions/UserLogin"
              }
            }
          ],
          "produces" : ["application/json"],
           "responses":{
              "200":{
                "description" : "New user has loggedIn",
                "schema": {
                 "$ref" : "#/definitions/UserLoginResponse"
                }
              }
            }
          }
      },
      "/user/register":{
        "post":{
          "tags": ["UserController"],
          "summary": "API endpoint to register new user",
          "description" : "Register new system user",
          "parameters":[
            {
              "name": "User",
              "description": "User login",
              "in": "body",
              "required": "true",
              "schema" : {
                "$ref" : "#/definitions/UserRequest"
              }
            }
          ],
          "produces" : ["application/json"],
           "responses":{
              "200":{
                "description" : "New user successfully created",
                "schema": {
                 "$ref" : "#/definitions/UserResponse"
                }
              }
            }
        }
      },
      "/category":{
        "get":{
          "tags": ["CategoryController"],
          "summary": "API endpoint to retrieve product category",
          "description" : "Find product categories from the database",
          "produces" : ["application/json"],
          "parameters":[
            {
              "name": "authorization",
              "description": "Access token to authorize the user",
              "in": "header",
              "type": "string",
              "required": false
            }
          ],
          "responses":{
            "200":{
              "description" : "Successfully retrieved product categories",
              "schema": {
                "type":"array",
                "items":{
                  "$ref" : "#/definitions/Category"
                }
              }
            }
          }
        },
        "post":{
          "tags": ["CategoryController"],
          "summary": "API endpoint to create new product category",
          "description" : "Create product category into the database",
          "produces" : ["application/json"],
          "parameters":[
            {
              "name": "authorization",
              "description": "Access token to authorize the user",
              "in": "header",
              "type": "string",
              "required": true
            },
            {
              "name": "Category",
              "description": "Create category",
              "in": "body",
              "required": "true",
              "schema" : {
                "$ref" : "#/definitions/CategoryRequest"
              }
            }
          ],
           "responses":{
              "200":{
                "description" : "Product category successfully created",
                "schema": {
                 "$ref" : "#/definitions/Category"
                }
              }
            }
        }
      },
      "/category/{id}":{
        "parameters":[
          {
             "name" : "id",
             "in": "path",
             "required": "true",
             "description": "id of the category",
             "type": "string"

          }
       ],
       "get":{
          "tags": ["CategoryController"],
          "summary": "API Endpoint to find single product category",
          "description" : "Find one category from the database",
          "produces" : ["application/json"],
          "responses":{
            "200":{
              "description" : "Category found",
              "schema": {
              "$ref" : "#definitions/Category"
              }
            }
          }
       },
       "delete":{
          "tags": ["CategoryController"],
          "summary": "API Endpoint to delete the category",
          "description" : "Delete category from the database",
          "produces" : ["application/json"],
          "responses":{
            "200":{
              "description" : "Category has deleted",
              "schema": {
              "$ref" : "#definitions/Category"
              }
            }
          }
        },
        "put":{
          "tags": ["CategoryController"],
          "summary": "API Endpoint for update Category",
          "description" : "Update the existing Category in database",
          "parameters":[
            {
              "name": "Category",
              "description": "Category params to update the category",
              "in": "body",
              "schema" : {
                "$ref" : "#definitions/CategoryRequest"
              }
            }
          ],
          "produces" : ["application/json"],
          "responses":{
            "200":{
              "description" : "Category has Updated",
              "schema": {
               "$ref" : "#definitions/Category"
              }
            }
          }
        }
      },
      "/product":{
        "parameters":[
          {
            "name": "authorization",
            "description": "Access token to authorize the user",
            "in": "header",
            "type": "string",
            "required": true
           }
        ],
        "get":{
          "tags": ["ProductController"],
          "summary": "API endpoint to retrieve products",
          "description" : "GET all products from the database",
          "produces" : ["application/json"],
          "responses":{
            "200":{
              "description" : "Retrieve all products",
              "schema": {
               "$ref" : "#/definitions/ProductResponse"
              }
            }
        }
        },
        "post":{
          "tags": ["ProductController"],
          "summary": "API endpoint to create new product category",
          "description" : "Create product category into the database",
          "produces" : ["application/json"],
          "parameters":[

            {
              "name": "Product",
              "description": "Create Product",
              "in": "body",
              "required": "true",
              "schema" : {
                "$ref" : "#/definitions/ProductRequest"
              }
            }
          ],
           "responses":{
              "200":{
                "description" : "Product category successfully created",
                "schema": {
                 "$ref" : "#/definitions/Product"
                }
              }
          }
        }
      },
      "/product/{id}":{
        "parameters":[
          {
            "name": "authorization",
            "description": "Access token to authorize the user",
            "in": "header",
            "type": "string",
            "required": true
           }
        ],
        "get":{
          "tags": ["ProductController"],
          "summary": "API Endpoint to find product by ID",
          "description" : "Find one product from the database",
          "produces" : ["application/json"],
          "responses":{
            "200":{
              "description" : "Successfully found",
              "schema": {
              "$ref" : "#definitions/ProductResponse"
              }
            }
          }
       }
      }
    },
    "definitions":{
        "UserRequest":{
            "properties":{
                "name":{
                  "type":"string"
                },
                "username":{
                  "type":"string"
                },
                "email":{
                  "type":"string"
                },
                "password":{
                  "type":"string"
                },
                "gender":{
                  "type":"string"
                },
                "contactInfo": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "address": {
                        "type": "string"
                      },
                      "phoneNumber": {
                        "type": "string"
                      }
                    }
                  }
                }
            }
        },
        "UserResponse":{
            "properties":{
                "_id":{
                  "type":"string"
                },
                "name":{
                  "type":"string"
                },
                "username":{
                  "type":"string"
                },
                "email":{
                  "type":"string"
                },
                "gender":{
                  "type":"string"
                },
                "contactInfo": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "address": {
                        "type": "string"
                      },
                      "phoneNumber": {
                        "type": "string"
                      }
                    }
                  }
                }
            }
        },
        "User":{
            "required": ["name","username", "email", "password","gender"],
            "properties":{
                "_id":{
                  "type":"string"
                },
                "name":{
                  "type":"string"
                },
                "username":{
                  "type":"string"
                },
                "email":{
                  "type":"string"
                },
                "password":{
                  "type":"string"
                },
                "gender":{
                  "type":"string"
                },
                "contactInfo": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "address": {
                        "type": "string"
                      },
                      "phoneNumber": {
                        "type": "string"
                      }
                    }
                  }
                }
            }
        },
        "Category":{
            "required":["name"],
            "properties":{
              "_id":{
                "type":"string"
              },
              "name":{
                "type":"string"
              },
              "description":{
                "type":"string"
              }
            }
        },
        "CategoryRequest":{
            "required":["name"],
            "properties":{
              "name":{
                "type":"string"
              },
              "description":{
                "type":"string"
              }
            }
        },
        "Product":{
          "required":["productName"],
          "properties":{
            "productName":{
              "type":"string"
            },
            "productImageUrl":{
              "type":"string"
            },
            "productDescription":{
              "type":"string"
            },
            "categories": {
              "type": "array",
              "items": {
                "type": "string",
                "properties": {
                  "name": {
                    "type": "string"
                  }
                }
              }
            },
            "bestSeller":{
              "type":"boolean"
            },
            "hotSale":{
              "type":"number"
            },
            "productQuantity":{
              "type":"number"
            },
            "socialMedia": {
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string"
                  },
                  "url": {
                    "type": "string"
                  }
                }
              }
            },
            "user":{
              "type":"string"
            }
          }
      },
      "ProductRequest":{
          "required":["productName"],
          "properties":{
            "productName":{
              "type":"string"
            },
            "productImageUrl":{
              "type":"string"
            },
            "productDescription":{
              "type":"string"
            },
            "categories": {
              "type": "array",
              "items": {
                "type": "string",
                "properties": {
                  "name": {
                    "type": "string"
                  }
                }
              }
            },
            "bestSeller":{
              "type":"boolean"
            },
            "hotSale":{
              "type":"number"
            },
            "productQuantity":{
              "type":"number"
            },
            "socialMedia": {
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string"
                  },
                  "url": {
                    "type": "string"
                  }
                }
              }
            }
          }
      },
      "ProductResponse":{
          "required":["productName"],
          "properties":{
            "productName":{
              "type":"string"
            },
            "productImageUrl":{
              "type":"string"
            },
            "productDescription":{
              "type":"string"
            },
            "categories": {
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string"
                  }
                }
              }
            },
            "bestSeller":{
              "type":"boolean"
            },
            "hotSale":{
              "type":"number"
            },
            "productQuantity":{
              "type":"number"
            },
            "socialMedia": {
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string"
                  },
                  "url": {
                    "type": "string"
                  }
                }
              }
            },
            "user": {
              "type": "array",
              "items": {
                "type": "object",
                "$ref":"#/definitions/UserResponse"
              }
            }
          }
      },
      "UserLogin":{
        "required":["email","password"],
        "type": "string",
        "properties":{
          "email":{
            "type":"string"
          },
          "password":{
            "type":"string"
          }
        }
      },
      "UserLoginResponse":{
        "properties":{
          "token": {
            "type" : "string"
          }
        }
      }
    }
  }